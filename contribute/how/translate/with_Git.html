<!DOCTYPE html>

<html lang="en" dir="ltr" xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tails - Translate Tails and its website using Git</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<link rel="icon" href="../../../favicon.ico" type="image/x-icon" />

<link rel="stylesheet" href="../../../style.css" type="text/css" />

<link rel="stylesheet" href="../../../local.css?reload-2021-06-25" type="text/css" />


<script src="../../../lib/js/mirror-dispatcher.js" type="text/javascript"></script>









</head>


<body class="en">


<div class="banner" role="banner">
  <a class="tails" href="../../../index.html"><span>Tails</span></a>
  <div id="search-and-donate">
    
    
    
    <div class="donate">
      <a href="https://tails.boum.org/donate/?r=topbar" class="en"><span>Donate</span></a>
      <a href="https://tails.boum.org/donate/?r=topbar" class="de"><span>Spenden</span></a>
      <a href="https://tails.boum.org/donate/?r=topbar" class="es"><span>Donar</span></a>
      <a href="https://tails.boum.org/donate/?r=topbar" class="fa"><span>اهدا کردن</span></a>
      <a href="https://tails.boum.org/donate/?r=topbar" class="fr"><span>Faire un don</span></a>
      <a href="https://tails.boum.org/donate/?r=topbar" class="it"><span>Dona</span></a>
      <a href="https://tails.boum.org/donate/?r=topbar" class="pt"><span>Faça uma doação</span></a>
      <a href="https://tails.boum.org/donate/?r=topbar" class="ru"><span>Пожертвовать</span></a>
    </div>
  </div>
</div>



<div class="topbar" role="navigation">
<ul>
  <li><a href="../../../index.html">Home</a></li>
  <li><a href="../../../about.en.html">How Tails works</a></li>
  <li><a href="../../../install.en.html">Get Tails</a></li>
  <li><a href="../../../doc.en.html">Documentation</a></li>
  <li><a href="../../../support.en.html">Support</a></li>
  <li><a href="../../../contribute.en.html">Contribute</a></li>
  <li><a href="../../../news.en.html">News</a></li>
  <li><a href="../../../jobs.html">Jobs</a></li>
</ul>


</div>



<div class="page">

<div class="pageheader">

<div class="parentlinks">
<ul id="crumbs">
<li><a href="../../../index.html"><img alt="home" src="../../../lib/home.png"></a></li>







<li><a href="../../../contribute.en.html">contribute</a></li>





<li><a href="../../how.html">how</a></li>





<li><a href="../translate.html">translate</a></li>




<li>Translate Tails and its website using Git</li>

</ul>
</div>



<div class="header">
<span class="title">
Translate Tails and its website using Git
</span>
</div>






</div>

<div id="pagebody">

<div id="content" role="main">
<p>While it is possible to translate Tails custom programs using Transifex,
this website, which includes the Tails <a href="../../../doc.en.html">documentation</a>, can only
be translated using our <a href="./with_translation_platform.html">translation platform</a>
or Git.</p>

<p>This page explains how to get it up and running.</p>

<div class="toc">
<ol>
	<li class="L1"><a href="#index1h1">Set up your tools</a>
	</li>
	<li class="L1"><a href="#index2h1">How and what to translate?</a>
	</li>
	<li class="L1"><a href="#index3h1">Workflow</a>
	</li>
	<li class="L1"><a href="#index4h1">More informations and resources</a>
	</li>
</ol>
</div>


<h1><a name="index1h1"></a>Set up your tools</h1>

<p>We recommend to use Tails to do your translations as it contains all the tools
you need to set up a working environment.</p>

<p>If you want to use another operating system, these tools are:</p>

<ul>
<li>Git - manage source code</li>
<li>Poedit - translate files</li>
<li>OpenSSH client - publish your translations on the server</li>
<li>tools to <a href="../../build/website.html">build a local copy of the website</a> in
order to check how it will look like</li>
</ul>


<p>If you do not use Tails, please ensure that you use at least version 1.5 of Poedit,
as this version handles line breaks correctly.</p>

<p>The following instructions assume that you are using Tails.</p>

<h1><a name="index2h1"></a>How and what to translate?</h1>

<p>Once you have <a href="./with_Git.html#workflow">downloaded the Tails source code using Git</a>,
you can find the website source files in <code>wiki/src</code>.</p>

<p>The original website files are written in English, either in <a href="https://en.wikipedia.org/wiki/HTML">HTML</a> or in <a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a>. They have either a
<code>.html</code> or a <code>.mdwn</code> extension.</p>

<p>These original files are not to be modified by translators. Instead, look for a file with the
same name, but with the extension <code>.po</code>. Before this extension you will find the language code,
for example <code>fr</code> for French.</p>

<p>To edit these PO files, we recommend that you use <span class="application"><a href="http://www.poedit.net/screenshots.php">Poedit</a></span>, a
cross-platform editor for PO files.</p>

<p>When setting up Poedit, you might want to ensure to use &quot;Tails translators&quot;
or &quot;Tails developers&quot; as translator name and &quot;tails@boum.org&quot; as translator
contact email address.</p>

<p>If you do not use Poedit, but for example Vim or Emacs with the po-plugin, please
verify for each translation that the syntax of the files is not broken. In order to do
do so, please refer to the <a href="../../l10n_tricks.html">localization tricks page</a>.</p>

<p>If there is no existing PO file for your language, you can copy the
corresponding <code>.pot</code> file into a new <code>.po</code> file.</p>

<p><a id="workflow"></a></p>

<h1><a name="index3h1"></a>Workflow</h1>

<p>Git makes it possible to work together on the same files and to track each modification.
If you don&#39;t know Git yet, you might want to <a href="../../git.html#learn_Git">learn it first</a>.</p>

<p>Here is the typical workflow used by Tails translation teams.</p>

<p>If there is any point which you don&#39;t understand, please do not hesitate to
ask on the <a href="../translate.html#follow-up">mailing list for translators</a>, we will be glad to help you.</p>

<ol>
<li><p><strong>Set up your own repository</strong></p>

<p>Fork us on <a href="https://gitlab.tails.boum.org/tails/tails">our GitLab</a>.</p></li>
<li><p><strong>Copy the source code from the main repository</strong></p>

<p>You first need to setup a <a href="../../../doc/first_steps/persistence.en.html">Persistent Storage</a>
to save the source code. Then navigate to the <em>Persistent</em> folder, using the terminal:</p>

<pre><code>cd ~/Persistent
</code></pre>

<p>Get the source code:</p>

<pre><code>git clone https://gitlab.tails.boum.org/tails/tails.git
</code></pre>

<p>This operation requires some time at setup, as it requires pulling the whole repository.</p>

<p>We use Git submodules, so after cloning this repository, in your new Git clone&#39;s
directory, run:</p>

<pre><code>git submodule update --init
</code></pre>

<p>For more information about our usage of Git submodules, see
<a href="../../git.html#submodules">the dedicated section</a>.</p></li>
<li><p><strong>Add your repository</strong></p>

<p>Navigate to the folder containg the source code, using the terminal:</p>

<pre><code>cd tails
</code></pre>

<p>To publish your translations, you need to add the repository set up previously.
The URL of your repository should look like <code>git@gitlab-ssh.tails.boum.org:elouann/tails</code>.
If you cannot find the URL of your repository, get in touch with the sysadmins or send
an email to the <a href="../translate.html#follow-up">mailing list</a>. Once you&#39;ve got it, add it to
your local repository:</p>

<pre><code>git remote add myrepo git@gitlab-ssh.tails.boum.org:elouann/tails
</code></pre>

<p>Typing <code>git remote</code> should now show two entries:</p>

<pre><code>origin
myrepo
</code></pre>

<p>More specifically, if you type <code>git remote -v</code>, you&#39;ll see something like this:</p>

<pre><code>myrepo   git@gitlab-ssh.tails.boum.org:elouann/tails (fetch)
myrepo   git@gitlab-ssh.tails.boum.org:elouann/tails (push)
origin   https://gitlab.tails.boum.org/tails/tails.git (fetch)
origin   https://gitlab.tails.boum.org/tails/tails.git (push)
</code></pre>

<p>To check if the repository is correctly configured, run the following command:</p>

<pre><code>git fetch --all
</code></pre>

<p>If you have a problem with SSH keys or with the URL of your repository, get in touch
with the sysadmins or send an email to the <a href="../translate.html#follow-up">mailing list</a>.</p></li>
<li><p><strong>Configure your credentials</strong></p>

<p>Now to setup Git, type:</p>

<pre><code>git config user.name &quot;Your nickname&quot;
git config user.email &quot;Your email adress&quot;
git config apply.whitespace error
</code></pre>

<p>Verify this configuration by typing:</p>

<pre><code>git config --list
</code></pre></li>
<li><p><strong>Install the pre-commit hook</strong></p>

<p>There is a script in ./bin/pre-commit-translation that can be used as
a pre-commit hook. Please set it up as documented in the comments on
top of that file. It will run some sanity checks on the translated
files.</p></li>
<li><p><strong>Create a branch</strong></p>

<p>Create a branch for every translation you make, for example, if you want to
translate the &quot;contribute&quot; page, create a branch named <code>translate/contribute</code>:</p>

<pre><code>git branch translate/contribute
git checkout translate/contribute
</code></pre>

<p>Now typing <code>git branch</code> should show a star in front of the active branch:</p>

<pre><code>  master
* translate/contribute
</code></pre></li>
<li><p><strong>Translate!</strong></p>

<p>You can use your preferred PO file editor, for example, <em>Poedit</em> which is included in Tails.</p></li>
<li><p><strong>Save your translations</strong></p>

<p>Add your changes, then commit</p>

<pre><code>git add -p
git commit
</code></pre></li>
<li><p><strong>Test your work</strong></p>

<p><a href="../../build/website.html">Build the website locally</a> in order to verify
your modifications or to review the translations of somebody else.</p>

<p>If you need to rework something, go back to step 5, translate, and test again.</p></li>
<li><p><strong>Merge our main repository into yours</strong>.</p>

<p>Regularly, pull from the <code>master</code> branch of the main repository to update
your local files.</p>

<p><code>git fetch origin master</code> only fetches new files, while</p>

<p><code>git pull origin master</code> fetches and merges the files.</p></li>
<li><p><strong>Publish your modifications</strong></p></li>
</ol>


<p>   Push your changes to your online Git repository:</p>

<pre><code>   git push myrepo &lt;name of branch&gt;
</code></pre>

<p>   For example,</p>

<pre><code>   git push myrepo translate/contribute
</code></pre>

<ol>
<li><p>Ask other members of your translation team to review your work by writing
an email to <a href="../translate.html#follow-up">the mailing list for
translators</a>, containing in its subject
&quot;(Review)&quot; and the short code for the translated language, for example &quot;[fr]&quot;.</p></li>
<li><p>The reviewer, once happy with the result, should ask on the
<a href="../translate.html#follow-up">mailing list for translators</a> to pull from
the branch that was worked on, writing an email with &quot;(pull)&quot; and the language
short code in the subject. Ideally, such email would be signed with OpenPGP.</p></li>
</ol>


<p>Each <a href="../translate.html#language-teams">language team</a> keeps track of the repositories of its contributors.
To add one of these repositories as a <code>remote</code> in Git, use the following command line:</p>

<pre><code>git remote add [name] https://gitlab.tails.boum.org/[name]/tails.git
</code></pre>

<p>For example:</p>

<pre><code>git remote add mercedes508 https://gitlab.tails.boum.org/mercedes508/tails.git
</code></pre>

<h1><a name="index4h1"></a>More informations and resources</h1>

<p>The translation system used to translate Tails is called <span class="application"><a href="https://en.wikipedia.org/wiki/gettext">gettext</a></span>. Every sentence that
needs to be translated is written in a <a href="https://www.gnu.org/software/gettext/manual/gettext.html#PO-Files">PO
file</a>
by <a href="https://ikiwiki.info">ikiwiki</a>.</p>

<p>The <code>[[!wikipedia  ..]]</code> strings you can find in some files are ikiwiki <a href="../../../shortcuts.html">shortcuts</a>.
You might also need to understand <a href="../../../ikiwiki/directive.html">ikiwiki directives</a>.</p>

<p>See also <a href="../../l10n_tricks.html">localization tricks page</a>.</p>

</div>







</div>

<div id="footer" class="pagefooter" role="contentinfo">

<div id="pageinfo">







<div id="backlinks">
Pages linking to this one:

<a href="../../design/translation_platform.html">design/translation platform</a>

<a href="./team/de.html">team/de</a>

<a href="./team/it.html">team/it</a>

<a href="./team/zh.html">team/zh</a>

<a href="../translate.html">translate</a>


</div>






</div>
<div id="mirrorlist">Mirror: <a href="https://tails.boum.org/ikiwiki.cgi?do=goto&page=contribute/how/translate/with_Git">tails.boum.org</a></div>

<!-- from The Amnesic Incognito Live System -->
</div>

</div>

<script type="text/javascript">
  var linkelements = document.querySelectorAll('.use-mirror-pool');
  // Avoid a traceback if mirror-dispatcher.js is not available.
  if (typeof replaceUrlPrefixWithRandomMirror !== "undefined" && linkelements.length > 0) {
    replaceUrlPrefixWithRandomMirror(linkelements);
  }
</script>

</body>
</html>
